<div class="page-title mat-elevation-z0">
    <h1>Nouvelle recette</h1>
</div>

<div class="page-container create-container">
    <br>
    <mat-card class="mat-elevation-z6">
        <img class="recipe-img" mat-card-image [src]="imagePath || defaultImage">
        <mat-card-content>
            <form [formGroup]="createForm" (ngSubmit)="onSubmit(createForm.value)">
                <mat-form-field class="input" appearance="outline">
                    <mat-label>Title</mat-label>
                    <mat-icon matSuffix>title</mat-icon>
                    <input matInput formControlName="title">
                </mat-form-field>
                <br>
                <mat-form-field class="input" appearance="outline">
                    <mat-label>Description</mat-label>
                    <mat-icon matSuffix>subtitles</mat-icon>
                    <textarea matInput matTextareaAutosize matAutosizeMinRows=2 formControlName="description"></textarea>
                </mat-form-field>
                <br>
                <mat-form-field class="input" appearance="outline">
                    <mat-label>Tags</mat-label>
                    <mat-icon matSuffix>local_offer</mat-icon>
                    <mat-chip-list #chipList aria-label="Tag selection">
                        <mat-chip *ngFor="let tag of selectedTags" [selectable]="true" [removable]="true"
                            (removed)="remove(tag)">
                            {{tag}}
                            <mat-icon matChipRemove *ngIf="true">cancel</mat-icon>
                        </mat-chip>
                        <input placeholder="Tags" #tagInput [formControl]="tagCtrl" [matAutocomplete]="auto"
                            [matChipInputFor]="chipList" [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                            (matChipInputTokenEnd)="add($event)">
                    </mat-chip-list>
                    <mat-autocomplete #auto="matAutocomplete" (optionSelected)="selected($event)">
                        <mat-option *ngFor="let tag of filteredTags | async" [value]="tag">
                            {{tag}}
                        </mat-option>
                    </mat-autocomplete>
                </mat-form-field>
                <mat-form-field class="input" appearance="outline">
                    <mat-label>Image</mat-label>
                    <mat-icon matSuffix>add_photo_alternate</mat-icon>
                    <input matInput placeholder="http://" formControlName="imagePath" [(ngModel)]="imagePath">
                </mat-form-field>
                <mat-divider></mat-divider>
                <div style="margin-top: 20px; text-align: right;">
                    <button mat-stroked-button color="warn">
                        <mat-icon inline>cancel</mat-icon>
                        Annuler
                    </button>
                    &nbsp;&nbsp;
                    <button mat-stroked-button color="primary" type="submit">
                        <mat-icon inline>add_circle</mat-icon>
                        Ajouter
                    </button>
                </div>
            </form>
        </mat-card-content>
    </mat-card>
</div>